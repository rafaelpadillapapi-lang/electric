
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script src="./auth.js"></script>
<script>
  window.addEventListener("DOMContentLoaded", () => {
    const msg = document.getElementById("msg");
    if (!window.ElectricAuth) {
      msg.textContent = "ERROR: auth.js did not load. Check that auth.js exists in the repo root.";
    } else {
      msg.textContent = "Ready.";
    }
  });
</script>

<form id="signupForm">
  <label>Email</label>
  <input id="email" type="email" required />

  <label>Password</label>
  <input id="password" type="password" required />

  <button type="submit">Create account</button>
  <p id="msg"></p>
</form>

<script>
document.getElementById("signupForm").addEventListener("submit", async (e) => {
  e.preventDefault();
  const msg = document.getElementById("msg");
  msg.textContent = "Creating account...";

  const email = document.getElementById("email").value;
  const password = document.getElementById("password").value;

  const { error } = await ElectricAuth.signUp(email, password);
  if (error) {
    msg.textContent = error.message;
    return;
  }

  msg.textContent = "Account created. You can now log in.";
});
</script>
